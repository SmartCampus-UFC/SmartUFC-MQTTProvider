define(["@grafana/data","@grafana/runtime","@grafana/ui","react"],((e,t,n,r)=>(()=>{var o=[e=>{"use strict";e.exports=r},e=>{"use strict";e.exports=n},e=>{"use strict";e.exports=t},(e,t,n)=>{"use strict";var r=n(4);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var u=e[c],s=r.base?u[0]+r.base:u[0],l=i[s]||0,f="".concat(s," ").concat(l);i[s]=l+1;var p=n(f),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==p)t[p].references++,t[p].updater(d);else{var h=o(d,r);r.byIndex=c,t.splice(c,0,{identifier:f,updater:h,references:1})}a.push(f)}return a}function o(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var u=r(e,o),s=0;s<i.length;s++){var l=n(i[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}i=u}}},e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(12),o=n.n(r),i=n(13),a=n.n(i)()(o());a.push([e.id,"@keyframes spin{from{transform:scale(1) rotate(0deg)}to{transform:scale(1) rotate(360deg)}}.spinning>*>*:first-child{animation:spin 1s infinite linear}.center{display:flex;align-items:center;justify-content:center}.left{float:left}.right{float:right}","",{version:3,sources:["webpack://./static/button-panel.css"],names:[],mappings:"AAAA,gBACI,KAAA,+BAAA,CACA,GAAA,iCAAA,CAAA,CAEJ,0BACI,iCAAA,CAGJ,QACI,YAAA,CACA,kBAAA,CACA,sBAAA,CAEJ,MACI,UAAA,CAEJ,OACI,WAAA",sourcesContent:["@keyframes spin {\n    from { transform: scale(1) rotate(0deg); }\n    to { transform: scale(1) rotate(360deg); }\n}\n.spinning > * > *:first-child {\n    animation: spin 1s infinite linear;\n}\n\n.center {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n.left {\n    float: left;\n}\n.right {\n    float: right;\n}\n"],sourceRoot:""}]);const c=a},e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(a[u]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&a[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),t.push(l))}},t}},,t=>{"use strict";t.exports=e},(e,t,n)=>{e.exports=n(3)()}],i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={id:e,exports:{}};return o[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nc=void 0;var c={};return(()=>{"use strict";a.r(c),a.d(c,{plugin:()=>ze});var e=a(15),t=a(1),n=a(0),r=a.n(n),o=a(2);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,e);var n,i,a,c=l(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(t=c.call(this,e)).state={api_call:"READY",response:""},t}return n=f,i=[{key:"resetState",value:function(){this.setState({api_call:"READY",response:""})}},{key:"apiStateIcon",value:function(){switch(this.state.api_call){case"IN_PROGRESS":return"fa fa-spinner";case"SUCCESS":return"check";case"ERROR":return"exclamation-triangle";default:return this.props.options.icon}}},{key:"apiStateClassName",value:function(){return"IN_PROGRESS"===this.state.api_call?"spinning":""}},{key:"getOrientation",value:function(){if(!this.props.options.orientation)return"center";switch(this.props.options.orientation){case"left":return"left";case"right":return"right";default:return"center"}}},{key:"customStyle",value:function(){return"custom"===this.props.options.variant?{background:"none",border:"none",backgroundColor:this.props.options.backgroundColor,color:this.props.options.foregroundColor}:{}}},{key:"variant",value:function(){return"custom"===this.props.options.variant?void 0:this.props.options.variant}},{key:"buttonText",value:function(){return this.interpolateVariables(this.props.options.text)}},{key:"interpolateVariables",value:function(e){var t;return(0,o.getTemplateSrv)().replace(e,null===(t=this.props.data.request)||void 0===t?void 0:t.scopedVars)}},{key:"prepareFetchOpts",value:function(e){var t=this,n=this.props.options,r=new Headers;r.set("Accept","application/json");var o={method:n.method,mode:"cors",cache:"no-cache",headers:r,redirect:"follow"};return"POST"!==n.method&&"PATCH"!==n.method||(r.set("Content-Type",n.contentType),n.payload&&(o.body=this.interpolateVariables(n.payload))),n.isAuth&&(o.credentials="include",r.set("Authorization","Basic "+btoa(n.username+":"+n.password))),n.params&&("header"===n.type?n.params.forEach((function(e){r.set(t.interpolateVariables(e[0]),t.interpolateVariables(e[1]))})):"query"===n.type&&n.params.forEach((function(n){e.searchParams.append(t.interpolateVariables(n[0]),t.interpolateVariables(n[1]))}))),o}},{key:"render",value:function(){var e=this,n=this.props.options;return r().createElement("div",{className:this.getOrientation()},r().createElement(t.Button,{variant:this.variant(),title:this.state.response,size:"lg",className:this.apiStateClassName(),icon:this.apiStateIcon(),onClick:function(){e.setState({api_call:"IN_PROGRESS"});var t=new URL(e.interpolateVariables(n.url)),r=e.prepareFetchOpts(t);fetch(t.toString(),r).then((function(t){if("opaque"===t.type)e.setState({api_call:"READY",response:"CORS prevents access to the response"});else{if(!t.ok)throw new Error(t.status+t.statusText);e.setState({api_call:"SUCCESS",response:t.statusText})}})).catch((function(t){e.setState({api_call:"ERROR",response:t.message})})).finally((function(){setTimeout(e.resetState.bind(e),2500)}))},style:this.customStyle()},this.buttonText()))}}],i&&u(n.prototype,i),a&&u(n,a),Object.defineProperty(n,"prototype",{writable:!1}),f}(n.PureComponent);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(e){e.item;var o=e.value,i=e.onChange,a=(e.context,h((0,n.useState)(""),2)),c=a[0],u=a[1],s=h((0,n.useState)(""),2),l=s[0],f=s[1];return r().createElement("div",{className:"panel-container",style:{width:"auto"}},r().createElement(t.HorizontalGroup,null,r().createElement(t.Input,{placeholder:"Name",onChange:function(e){var t=e.target;u(t.value)},value:c}),r().createElement(t.Input,{placeholder:"Value",onChange:function(e){var t=e.target;f(t.value)},value:l}),r().createElement(t.IconButton,{onClick:function(e){return function(e){e.target;var t,n=c;(t=o?o.filter((function(e){return e[0]!==n})):[]).push([n,l]),t.sort((function(e,t){return e[0].localeCompare(t[0])})),u(""),f(""),i(t)}(e)},name:"plus"})),r().createElement(t.VerticalGroup,null,Array.from(o||[]).map((function(e){return r().createElement(t.HorizontalGroup,{key:e[0]},r().createElement(t.Input,{disabled:!0,value:e[0]}),r().createElement(t.Input,{disabled:!0,value:e[1]}),r().createElement(t.IconButton,{onClick:(n=e[0],function(e){e.target;var t=o.filter((function(e){return e[0]!==n}));i(t)}),name:"minus"}));var n}))))};function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}function j(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}function E(e){return{}.toString.call(e).includes("Object")}function A(e){return"function"==typeof e}var P=j((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),R={changes:function(e,t){return E(t)||P("changeType"),Object.keys(t).some((function(t){return n=e,r=t,!Object.prototype.hasOwnProperty.call(n,r);var n,r}))&&P("changeField"),t},selector:function(e){A(e)||P("selectorType")},handler:function(e){A(e)||E(e)||P("handlerType"),E(e)&&Object.values(e).some((function(e){return!A(e)}))&&P("handlersType")},initial:function(e){var t;e||P("initialIsRequired"),E(e)||P("initialType"),t=e,Object.keys(t).length||P("initialContent")}};function I(e,t){return A(t)?t(e.current):t}function k(e,t){return e.current=T(T({},e.current),t),t}function x(e,t,n){return A(t)?t(e.current):Object.keys(n).forEach((function(n){var r;return null===(r=t[n])||void 0===r?void 0:r.call(t,e.current[n])})),n}var M={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};R.initial(e),R.handler(t);var n={current:e},r=j(x)(n,t),o=j(k)(n),i=j(R.changes)(e),a=j(I)(n);function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return R.selector(e),e(n.current)}function u(e){S(r,o,i,a)(e)}return[c,u]}};const _=M;const D={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.21.2/min/vs"}};const N=function(e){return{}.toString.call(e).includes("Object")};var V=function(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t.apply(n,[].concat(o,r))}}}((function(e,t){throw new Error(e[t]||e.default)}))({configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "}),L={config:function(e){return e||V("configIsRequired"),N(e)||V("configType"),e.urls?{paths:{vs:e.urls.monacoBase}}:e}};const B=L;const q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const U=function e(t,n){return Object.keys(n).forEach((function(r){n[r]instanceof Object&&t[r]&&Object.assign(n[r],e(t[r],n[r]))})),b(b({},t),n)};var H={type:"cancelation",msg:"operation is manually canceled"};const G=function(e){var t=!1,n=new Promise((function(n,r){e.then((function(e){return t?r(H):n(e)})),e.catch(r)}));return n.cancel=function(){return t=!0},n};var z,F,J=_.create({config:D,isInitialized:!1,resolve:null,reject:null}),W=(F=2,function(e){if(Array.isArray(e))return e}(z=J)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}}(z,F)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}(z,F)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),Y=W[0],Z=W[1];function Q(e){return document.body.appendChild(e)}function $(e){var t,n,r=Y((function(e){return{config:e.config,reject:e.reject}})),o=(t="".concat(r.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return o.onload=function(){return e()},o.onerror=r.reject,o}function K(){var e=Y((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){e.resolve(t)}),(function(t){e.reject(t)}))}var X=new Promise((function(e,t){return Z({resolve:e,reject:t})})),ee={config:function(e){Z((function(t){return{config:U(t.config,B.config(e))}}))},init:function(){if(!Y((function(e){return{isInitialized:e.isInitialized}})).isInitialized){if(window.monaco&&window.monaco.editor)return G(Promise.resolve(window.monaco));q(Q,$)(K),Z({isInitialized:!0})}return G(X)}};const te=ee;var ne=a(16),re=a.n(ne);const oe={display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"};const ie=function({content:e}){return r().createElement("div",{style:oe},e)},ae={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}};function ce({width:e,height:t,isEditorReady:n,loading:o,_ref:i,className:a,wrapperClassName:c}){return r().createElement("section",{style:{...ae.wrapper,width:e,height:t},className:c},!n&&r().createElement(ie,{content:o}),r().createElement("div",{ref:i,style:{...ae.fullWidth,...!n&&ae.hide},className:a}))}ce.propTypes={width:re().oneOfType([re().number,re().string]).isRequired,height:re().oneOfType([re().number,re().string]).isRequired,loading:re().oneOfType([re().element,re().string]).isRequired,isEditorReady:re().bool.isRequired,className:re().string,wrapperClassName:re().string};const ue=ce;const se=(0,n.memo)(ue);const le=function(e){(0,n.useEffect)(e,[])};const fe=function(e,t,r=!0){const o=(0,n.useRef)(!0);(0,n.useEffect)(o.current||!r?()=>{o.current=!1}:e,t)};function pe(){}function de({original:e,modified:t,language:o,originalLanguage:i,modifiedLanguage:a,editorDidMount:c,theme:u,width:s,height:l,loading:f,options:p,className:d,wrapperClassName:h}){const[g,y]=(0,n.useState)(!1),[m,v]=(0,n.useState)(!0),b=(0,n.useRef)(null),O=(0,n.useRef)(null),w=(0,n.useRef)(null),C=(0,n.useRef)(c);le((()=>{const e=te.init();return e.then((e=>(O.current=e)&&v(!1))).catch((e=>"cancelation"!==(null==e?void 0:e.type)&&void 0)),()=>b.current?j():e.cancel()})),fe((()=>{b.current.getModel().modified.setValue(t)}),[t],g),fe((()=>{b.current.getModel().original.setValue(e)}),[e],g),fe((()=>{const{original:e,modified:t}=b.current.getModel();O.current.editor.setModelLanguage(e,i||o),O.current.editor.setModelLanguage(t,a||o)}),[o,i,a],g),fe((()=>{O.current.editor.setTheme(u)}),[u],g),fe((()=>{b.current.updateOptions(p)}),[p],g);const T=(0,n.useCallback)((()=>{const n=O.current.editor.createModel(e,i||o),r=O.current.editor.createModel(t,a||o);b.current.setModel({original:n,modified:r})}),[o,t,a,e,i]),S=(0,n.useCallback)((()=>{b.current=O.current.editor.createDiffEditor(w.current,{automaticLayout:!0,...p}),T(),O.current.editor.setTheme(u),y(!0)}),[p,u,T]);(0,n.useEffect)((()=>{if(g){const{original:e,modified:t}=b.current.getModel();C.current(t.getValue.bind(t),e.getValue.bind(e),b.current)}}),[g]),(0,n.useEffect)((()=>{!m&&!g&&S()}),[m,g,S]);const j=()=>b.current.dispose();return r().createElement(se,{width:s,height:l,isEditorReady:g,loading:f,_ref:w,className:d,wrapperClassName:h})}de.propTypes={original:re().string,modified:re().string,language:re().string,originalLanguage:re().string,modifiedLanguage:re().string,editorDidMount:re().func,theme:re().string,width:re().oneOfType([re().number,re().string]),height:re().oneOfType([re().number,re().string]),loading:re().oneOfType([re().element,re().string]),options:re().object,className:re().string,wrapperClassName:re().string},de.defaultProps={editorDidMount:pe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{}};function he({value:e,language:t,editorDidMount:o,theme:i,line:a,width:c,height:u,loading:s,options:l,overrideServices:f,_isControlledMode:p,className:d,wrapperClassName:h}){const[g,y]=(0,n.useState)(!1),[m,v]=(0,n.useState)(!0),b=(0,n.useRef)(null),O=(0,n.useRef)(null),w=(0,n.useRef)(null),C=(0,n.useRef)(o);le((()=>{const e=te.init();return e.then((e=>(O.current=e)&&v(!1))).catch((e=>"cancelation"!==(null==e?void 0:e.type)&&void 0)),()=>b.current?S():e.cancel()})),fe((()=>{b.current.updateOptions(l)}),[l],g),fe((()=>{if(b.current.getOption(O.current.editor.EditorOption.readOnly))b.current.setValue(e);else if(e!==b.current.getValue()){if(b.current.executeEdits("",[{range:b.current.getModel().getFullModelRange(),text:e,forceMoveMarkers:!0}]),p){const e=b.current.getModel();e.forceTokenization(e.getLineCount())}b.current.pushUndoStop()}}),[e],g),fe((()=>{O.current.editor.setModelLanguage(b.current.getModel(),t)}),[t],g),fe((()=>{b.current.setScrollPosition({scrollTop:a})}),[a],g),fe((()=>{O.current.editor.setTheme(i)}),[i],g);const T=(0,n.useCallback)((()=>{b.current=O.current.editor.create(w.current,{value:e,language:t,automaticLayout:!0,...l},f),O.current.editor.setTheme(i),y(!0)}),[t,l,f,i,e]);(0,n.useEffect)((()=>{g&&C.current(b.current.getValue.bind(b.current),b.current)}),[g]),(0,n.useEffect)((()=>{!m&&!g&&T()}),[m,g,T]);const S=()=>b.current.dispose();return r().createElement(se,{width:c,height:u,isEditorReady:g,loading:s,_ref:w,className:d,wrapperClassName:h})}he.propTypes={value:re().string,language:re().string,editorDidMount:re().func,theme:re().string,line:re().number,width:re().oneOfType([re().number,re().string]),height:re().oneOfType([re().number,re().string]),loading:re().oneOfType([re().element,re().string]),options:re().object,className:re().string,wrapperClassName:re().string,overrideServices:re().object,_isControlledMode:re().bool},he.defaultProps={editorDidMount:pe,theme:"light",width:"100%",height:"100%",loading:"Loading...",options:{},overrideServices:{},_isControlledMode:!1};const ge=he;const ye=(0,n.memo)(ge);function me(){return me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},me.apply(this,arguments)}function ve({value:e,onChange:t,editorDidMount:o,...i}){const a=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(e);u.current=e;const s=(0,n.useCallback)((e=>{const n=a.current.getValue();if(u.current!==n){const r=t(e,n);"string"==typeof r&&n!==r&&a.current.setValue(r)}}),[t]),l=(0,n.useCallback)((()=>{var e;c.current=null===(e=a.current)||void 0===e?void 0:e.onDidChangeModelContent(s)}),[s]);(0,n.useEffect)((()=>(l(),()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.dispose()})),[l]);const f=(0,n.useCallback)(((e,t)=>{a.current=t,l(),o(e,t)}),[l,o]);return r().createElement(ye,me({value:e,editorDidMount:f,_isControlledMode:!0},i))}ve.propTypes={value:re().string,editorDidMount:re().func,onChange:re().func},ve.defaultProps={editorDidMount:pe,onChange:pe};function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ee(e);if(t){var o=Ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return je(e)}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e){return Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ee(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}te.config({paths:{vs:"/public/plugins/cloudspout-button-panel/lib/vs"}});var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(c,e);var t,n,i,a=Te(c);function c(){var e;we(this,c);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Ae(je(e=a.call.apply(a,[this].concat(n))),"getEditorValue",void 0),Ae(je(e),"editorInstance",void 0),Ae(je(e),"onSourceChange",(function(){e.getEditorValue&&e.props.onChange(e.getEditorValue())})),Ae(je(e),"onEditorDidMount",(function(t,n){e.getEditorValue=t,e.editorInstance=n})),Ae(je(e),"updateDimensions",(function(){var t;null===(t=e.editorInstance)||void 0===t||t.layout()})),Ae(je(e),"render",(function(){return e.editorInstance&&e.editorInstance.layout(),r().createElement("div",{onBlur:e.onSourceChange},r().createElement(ye,{height:"10vh",language:e.props.language,theme:o.config.theme.isDark?"vs-dark":"vs-light",value:e.props.value,editorDidMount:e.onEditorDidMount,options:{fontSize:12}}))})),e}return t=c,n&&Oe(t.prototype,n),i&&Oe(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(n.PureComponent),Re=function(e){var t,n,o=e.value,i=e.item,a=e.onChange,c=e.context;return r().createElement(Pe,{language:null===(t=i.settings)||void 0===t?void 0:t.language(null===(n=c.options)||void 0===n?void 0:n.contentType),value:o,onChange:function(e){return a(e)}})},Ie=a(5),ke=a.n(Ie),xe=a(6),Me=a.n(xe),_e=a(7),De=a.n(_e),Ne=a(8),Ve=a.n(Ne),Le=a(9),Be=a.n(Le),qe=a(10),Ue=a.n(qe),He=a(11),Ge={};Ge.styleTagTransform=Ue(),Ge.setAttributes=Ve(),Ge.insert=De().bind(null,"head"),Ge.domAPI=Me(),Ge.insertStyleElement=Be();ke()(He.Z,Ge);He.Z&&He.Z.locals&&He.Z.locals;var ze=new e.PanelPlugin(d).setPanelOptions((function(e){return e.addRadio({path:"method",name:"Method",category:["REST Integration"],description:"HTTP method used to communicate with the remote site",settings:{options:[{value:"GET",label:"GET"},{value:"POST",label:"POST"},{value:"DELETE",label:"DELETE"},{value:"PATCH",label:"PATCH"}]},defaultValue:"GET"}).addTextInput({path:"url",name:"URL",category:["REST Integration"],description:"The URL to call",defaultValue:"http://api.example.com/"}).addRadio({path:"type",name:"Type",category:["REST Integration"],description:"Defines how the parameters are sent to the server",settings:{options:[{value:"header",label:"Header",description:"Send the parameters as request HTTP headers"},{value:"query",label:"Query",description:"Send the parameters as `key=value` query parameter"}]},defaultValue:"header"}).addCustomEditor({id:"buttonParams",path:"params",name:"Parameters",category:["REST Integration"],description:"The parameters sent with the request",editor:y}).addSelect({path:"contentType",name:"Content-Type",category:["REST Integration"],description:"Content-Type of the payload",defaultValue:"application/json",settings:{allowCustomValue:!0,options:[{label:"application/json",value:"application/json"},{label:"text/html",value:"text/html"},{label:"text/plain",value:"text/plain"}]},showIf:function(e){return"PATCH"===e.method||"POST"===e.method}}).addCustomEditor({id:"payload",path:"payload",name:"Payload",category:["REST Integration"],description:"Optional payload to send with the request",settings:{language:function(e){switch(e){case"application/json":return"json";case"text/html":return"html";default:return"text"}}},showIf:function(e){return"PATCH"===e.method||"POST"===e.method},editor:Re}).addSelect({path:"variant",name:"Variant",description:"Button variant used to render",settings:{options:[{value:"primary",label:"Primary"},{value:"secondary",label:"Secondary"},{value:"destructive",label:"Destructive"},{value:"link",label:"Link"},{value:"custom",label:"Custom"}]},defaultValue:"primary"}).addColorPicker({path:"foregroundColor",name:"Fackground Color",description:"Foreground color of the button",settings:{disableNamedColors:!0},showIf:function(e){return"custom"===e.variant}}).addColorPicker({path:"backgroundColor",name:"Background Color",description:"Background color of the button",settings:{disableNamedColors:!0},showIf:function(e){return"custom"===e.variant}}).addRadio({path:"orientation",name:"Orientation",description:"Button orientation used to render",settings:{options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}]},defaultValue:"center"}).addSelect({path:"icon",name:"Icon",description:"",settings:{options:(0,t.getAvailableIcons)().map((function(e){return{value:e,label:e}}))},defaultValue:"cog"}).addTextInput({path:"text",name:"Text",description:"The description of the button",defaultValue:"The default button label"}).addBooleanSwitch({path:"isAuth",name:"Authentication",category:["Authentication"],description:"Should basic authentication be used?",defaultValue:!1}).addTextInput({path:"username",name:"Username",category:["Authentication"],description:"ℹ️ The server MUST provide proper CORS Access-Control-Allow-* headers!",showIf:function(e){return e.isAuth}}).addTextInput({path:"password",name:"Password",category:["Authentication"],description:"⚠️ The password is NOT stored encrypted in Grafana!",showIf:function(e){return e.isAuth}})}))})(),c})()));
//# sourceMappingURL=module.js.map